<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to multiple-bias sensitivity analysis • EValue</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Introduction to multiple-bias sensitivity analysis">
<meta property="og:description" content="Calculating bounds and E-values that take into account unmeasured confounding, selection bias, and/or misclassification.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EValue</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">All functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Unmeasured confounding
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/unmeasured-confounding.html">Examples</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Articles</a>
      <ul class="dropdown-menu" role="menu">
<li>
          <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4820664/">Sensitivity analysis without assumptions</a>
        </li>
        <li>
          <a href="http://annals.org/aim/article-abstract/2643434/sensitivity-analysis-observational-research-introducing-e-value?doi=10.7326%2fM16-2607">Sensitivity analysis in observational research: Introducing the E-value</a>
        </li>
        <li>
          <a href="https://journals.lww.com/epidem/Fulltext/2018/09000/Web_Site_and_R_Package_for_Computing_E_values.26.aspx">Website and R package for computing E-values</a>
        </li>
        <li>
          <a href="https://annals.org/aim/article-abstract/2719984/correcting-misinterpretations-e-value">Correcting misinterpretations of the E-value</a>
        </li>
        <li>
          <a href="https://biostats.bepress.com/harvardbiostat/paper215/">Technical considerations in the use of the E-value</a>
        </li>
      </ul>
</li>
    <li>
      <a href="https://www.evalue-calculator.com">E-value calculator</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Multiple biases
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/multiple-bias.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/multiple-bias-examples.html">Examples</a>
    </li>
    <li>
      <a href="https://arxiv.org/abs/2005.02908">Article</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Meta-analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://www.tandfonline.com/doi/full/10.1080/01621459.2018.1529598">Article</a>
    </li>
    <li>
      <a href="https://mmathur.shinyapps.io/meta_gui_2/">Calculator</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Selection bias
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Articles</a>
      <ul class="dropdown-menu" role="menu">
<li>
          <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6553568/pdf/ede-30-509.pdf">Bounding bias due to selection</a>
        </li>
        <li>
          <a href="https://journals.lww.com/epidem/Citation/9000/Simple_sensitivity_analysis_for_control_selection.98406.aspx">Simple sensitivity analysis for control selection bias</a>
        </li>
      </ul>
</li>
    <li>
      <a href="http://selection-bias.louisahsmith.com">Calculator</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to multiple-bias sensitivity analysis</h1>
            
      
      
      <div class="hidden name"><code>multiple-bias.Rmd</code></div>

    </div>

    
    
<div id="biases" class="section level2">
<h2 class="hasAnchor">
<a href="#biases" class="anchor"></a>Biases</h2>
<p>It is likely that an epidemiologic study is affected by more than one bias. We can use the <code>EValue</code> package to assess biases jointly. We start by characterizing the biases of interest: unmeasured confounding, selection bias, and differential misclassification. Functions allow us to characterize these biases according to the available options.</p>
<ul>
<li>
<code><a href="../reference/confounding.html">confounding()</a></code>
<ul>
<li>This function does not need any additional arguments.</li>
</ul>
</li>
<li>
<code><a href="../reference/selection.html">selection(...)</a></code>
<ul>
<li>Selection bias can be described by <code>"general"</code> if the inferential goal is the total population, and by <code>"selected"</code> if the target is the selected population only. If <code>"general"</code>, the default, is chosen, additional arguments are <code>"increased risk"</code> or <code>"decreased risk"</code> (assumptions about the direction of risk in the selected population) and <code>"S = U"</code> (simplification used if the biasing characteristic is common to the entire selected population). See <a href="selection-bias.html">selection bias</a> for more details on the interpretation of these options.</li>
</ul>
</li>
<li>
<code><a href="../reference/misclassification.html">misclassification(...)</a></code>
<ul>
<li>Misclassification can be characterized by <code>"outcome"</code> or <code>"exposure"</code> depending on whether differential outcome or exposure misclassification is of interest. If <code>"exposure"</code> is chosen, additional arguments <code>rare_outcome</code> and <code>rare_exposure</code> must be set to <code>TRUE</code> or <code>FALSE</code>, depending on whether the outcome and/or exposure are rare enough for odds ratios to be approximately equivalent to risk ratios.</li>
</ul>
</li>
</ul>
<p>Each bias additional takes the argument <code>verbose</code>, which specifies if any messages should be printed to the console when calling the function. This argument should generally be unspecified (default <code>verbose = FALSE</code>) as the appropriate messages will be printed when using the biases in other functions, but may occasionally be helpful for debugging.</p>
<p>To use the sensitivity analysis functions provided in this package, these biases can be combined using <code><a href="../reference/multi_bias.html">multi_bias()</a></code>:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="no">biases</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/multi_bias.html">multi_bias</a></span>(<span class="fu"><a href="../reference/confounding.html">confounding</a></span>(),
                     <span class="fu"><a href="../reference/selection.html">selection</a></span>(<span class="st">"general"</span>, <span class="st">"increased risk"</span>),
                     <span class="fu"><a href="../reference/misclassification.html">misclassification</a></span>(<span class="st">"exposure"</span>, <span class="kw">rare_outcome</span> <span class="kw">=</span> <span class="fl">TRUE</span>))</pre></body></html></div>
<div id="parameters-describing-the-biases" class="section level3">
<h3 class="hasAnchor">
<a href="#parameters-describing-the-biases" class="anchor"></a>Parameters describing the biases</h3>
<p>There are 1-4 parameters that characterize each bias, but they differ depending on the ordering of the biases and on the options chosen. The interpretation of the parameters is given in <a href="https://arxiv.org/abs/2005.02908">Smith et al. 2020</a>, but briefly, each is a risk (or odds) ratio (RR/OR) relating two variables, possibly conditional on others. (Each is additionally conditional on other measured covariates, omitted from the notation for simplicity.) The exposure variable is labeled <span class="math inline">\(A\)</span>, the outcome <span class="math inline">\(Y\)</span>, and their misclassified versions <span class="math inline">\(A^*\)</span> and <span class="math inline">\(Y^*\)</span>, respectively. Selection into the sample is denoted with <span class="math inline">\(S = 1\)</span>. Finally, unmeasured confounding and selection bias are assumed to be due to unmeasured variables <span class="math inline">\(U_c\)</span> and <span class="math inline">\(U_s\)</span>, respectively.</p>
<p>The table below contains the entire list of parameters using the notation in the Smith et al. paper. The corresponding output that will be printed in the R console is also given. Finally, the argument used to specify the magnitude of the parameter in the <code><a href="../reference/multi_bound.html">multi_bound()</a></code> function is in the last column.</p>
<button title="Click to show or hide table" type="button" onclick="if(document.getElementById('outputtab') .style.display=='none') {document.getElementById('outputtab') .style.display=''}else{document.getElementById('outputtab') .style.display='none'}">
Hide (show) table
</button>
<p><br></p>
<div id="outputtab">
<table class="table">
<thead><tr class="header">
<th align="left">Bias</th>
<th align="left">Parameter</th>
<th align="left">R Output</th>
<th align="left">Function argument</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">confounding</td>
<td align="left"><span class="math display">\[\text{RR}_{AU_c}\]</span></td>
<td align="left"><code>RR_AUc</code></td>
<td align="left"><code>RRAUc</code></td>
</tr>
<tr class="even">
<td align="left">confounding</td>
<td align="left"><span class="math display">\[\text{RR}_{U_cY}\]</span></td>
<td align="left"><code>RR_UcY</code></td>
<td align="left"><code>RRUcY</code></td>
</tr>
<tr class="odd">
<td align="left">selection after outcome misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{U_sY \mid A = 1}\]</span></td>
<td align="left"><code>RR_UsY|A=1</code></td>
<td align="left"><code>RRUsYA1</code></td>
</tr>
<tr class="even">
<td align="left">selection after outcome misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{SU_s \mid A = 1}\]</span></td>
<td align="left"><code>RR_SUs|A=1</code></td>
<td align="left"><code>RRSUsA1</code></td>
</tr>
<tr class="odd">
<td align="left">selection after outcome misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{U_sY \mid A = 0}\]</span></td>
<td align="left"><code>RR_UsY|A=0</code></td>
<td align="left"><code>RRUsYA0</code></td>
</tr>
<tr class="even">
<td align="left">selection after outcome misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{SU_s \mid A = 0}\]</span></td>
<td align="left"><code>RR_SUs|A=0</code></td>
<td align="left"><code>RRSUsA0</code></td>
</tr>
<tr class="odd">
<td align="left">selection after exposure misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{U_sY^* \mid A = 1}\]</span></td>
<td align="left"><code>RR_UsY*|A=1</code></td>
<td align="left"><code>RRUsYA1</code></td>
</tr>
<tr class="even">
<td align="left">selection after exposure misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{U_sY^* \mid A = 0}\]</span></td>
<td align="left"><code>RR_UsY*|A=0</code></td>
<td align="left"><code>RRUsYA0</code></td>
</tr>
<tr class="odd">
<td align="left">selection after outcome misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{U_sY \mid A^* = 1}\]</span></td>
<td align="left"><code>RR_UsY|A*=1</code></td>
<td align="left"><code>RRUsYA1</code></td>
</tr>
<tr class="even">
<td align="left">selection after outcome misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{SU_s \mid A^* = 1}\]</span></td>
<td align="left"><code>RR_SUs|A*=1</code></td>
<td align="left"><code>RRSUsA1</code></td>
</tr>
<tr class="odd">
<td align="left">selection after outcome misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{U_sY \mid A^* = 0}\]</span></td>
<td align="left"><code>RR_UsY|A*=0</code></td>
<td align="left"><code>RRUsYA0</code></td>
</tr>
<tr class="even">
<td align="left">selection after outcome misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{SU_s \mid A^* = 0}\]</span></td>
<td align="left"><code>RR_SUs|A*=1</code></td>
<td align="left"><code>RRSUsA1</code></td>
</tr>
<tr class="odd">
<td align="left">confounding and selection</td>
<td align="left"><span class="math display">\[\text{RR}_{AU_{sc}\mid S = 1}\]</span></td>
<td align="left"><code>RR_AUsc|S</code></td>
<td align="left"><code>RRAUscS</code></td>
</tr>
<tr class="even">
<td align="left">confounding and selection</td>
<td align="left"><span class="math display">\[\text{RR}_{U_{sc}Y\mid S = 1}\]</span></td>
<td align="left"><code>RR_UscY|S</code></td>
<td align="left"><code>RRUscYS</code></td>
</tr>
<tr class="odd">
<td align="left">outcome misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{AY^* \mid y}\]</span></td>
<td align="left"><code>RR_AY*|y</code></td>
<td align="left"><code>RRAYy</code></td>
</tr>
<tr class="even">
<td align="left">exposure misclassification (rare outcome)</td>
<td align="left"><span class="math display">\[\text{OR}_{YA^* \mid a}\]</span></td>
<td align="left"><code>OR_YA*|a</code></td>
<td align="left"><code>ORYAa</code></td>
</tr>
<tr class="odd">
<td align="left">exposure misclassification (rare exposure and outcome)</td>
<td align="left"><span class="math display">\[\text{RR}_{YA^* \mid a}\]</span></td>
<td align="left"><code>RR_YA*|a</code></td>
<td align="left"><code>RRYAa</code></td>
</tr>
<tr class="even">
<td align="left">outcome misclassification</td>
<td align="left"><span class="math display">\[\text{RR}_{AY^* \mid y, S = 1}\]</span></td>
<td align="left"><code>RR_AY*|y,S</code></td>
<td align="left"><code>RRAYyS</code></td>
</tr>
<tr class="odd">
<td align="left">exposure misclassification (rare outcome)</td>
<td align="left"><span class="math display">\[\text{OR}_{YA^* \mid a, S = 1}\]</span></td>
<td align="left"><code>OR_YA*|a,S</code></td>
<td align="left"><code>ORYAaS</code></td>
</tr>
<tr class="even">
<td align="left">exposure misclassification (rare exposure and outcome)</td>
<td align="left"><span class="math display">\[\text{RR}_{YA^* \mid a, S = 1}\]</span></td>
<td align="left"><code>RR_YA*|a,S</code></td>
<td align="left"><code>RRYAaS</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="ordering-of-the-biases" class="section level3">
<h3 class="hasAnchor">
<a href="#ordering-of-the-biases" class="anchor"></a>Ordering of the biases</h3>
<p>If both present, selection bias and misclassification should be listed in the <code><a href="../reference/multi_bias.html">multi_bias()</a></code> function in the order in which they are assumed to affect the data. Confounding is assumed to be a state of nature that does not depend on how the data is selected or measured. If selection occurs before the exposure/outcome measurement, as is implied in the code above, then we can define parameters that describe the extent of differential misclassification within the selected group. If measurement takes place before selection, then the parameters describing selection are in terms of the misclassified variables.</p>
<p>We can easily see which parameters describe the biases of interest using the <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> function on the object created by <code>multi-bias()</code>:</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">biases</span>)</pre></body></html></div>
<pre class="output"><code>#&gt;                         bias     output argument
#&gt; 1                confounding     RR_AUc    RRAUc
#&gt; 2                confounding     RR_UcY    RRUcY
#&gt; 3                  selection RR_UsY|A=1  RRUsYA1
#&gt; 4                  selection RR_SUs|A=1  RRSUsA1
#&gt; 5 exposure misclassification OR_YA*|a,S   ORYAaS</code></pre>
<p>Contrast the above parameters with those we would get if we switched the ordering of the misclassification and the selection. These now imply that selection differs on the basis of the mismeasured exposure, and that the misclassification parameter can be interpreted with respect to the total population, not just those selected for the study.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(
  <span class="fu"><a href="../reference/multi_bias.html">multi_bias</a></span>(<span class="fu"><a href="../reference/confounding.html">confounding</a></span>(),
             <span class="fu"><a href="../reference/misclassification.html">misclassification</a></span>(<span class="st">"exposure"</span>, <span class="kw">rare_outcome</span> <span class="kw">=</span> <span class="fl">TRUE</span>),
             <span class="fu"><a href="../reference/selection.html">selection</a></span>(<span class="st">"general"</span>, <span class="st">"increased risk"</span>))
  )</pre></body></html></div>
<pre class="output"><code>#&gt;                         bias      output argument
#&gt; 1                confounding      RR_AUc    RRAUc
#&gt; 2                confounding      RR_UcY    RRUcY
#&gt; 3                  selection RR_UsY|A*=1  RRUsYA1
#&gt; 4                  selection RR_SUs|A*=1  RRSUsA1
#&gt; 5 exposure misclassification    OR_YA*|a    ORYAa</code></pre>
</div>
</div>
<div id="bounds" class="section level2">
<h2 class="hasAnchor">
<a href="#bounds" class="anchor"></a>Bounds</h2>
<p>Once we know which biases are of interest and have characterized them using the function arguments, we can calculate a bound for the joint bias. We must choose values for the various parameters defining the magnitude of the biases.</p>
<p>Calculating a bound does not require memorizing the arguments in the above table. Instead, the parameters that need to be specified for a given set of biases can be printed using the <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> function on an object created by <code><a href="../reference/multi_bias.html">multi_bias()</a></code>. For example, using the biases chosen above:</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">biases</span>)</pre></body></html></div>
<pre class="message"><code>#&gt; The following arguments can be copied and pasted into the multi_bound()
#&gt; function: RRAUc = , RRUcY = , RRUsYA1 = , RRSUsA1 = , ORYAaS =</code></pre>
<p>We can then choose values for the necessary parameters. For our example, suppose we think that an unmeasured confounder <span class="math inline">\(U_c\)</span> is associated with a 2-fold increased risk of the outcome and is 1.5 times as likely within the exposed compared to the unexposed groups. Then <code>RRUcY = 2</code> and <code>RRAUc = 1.5</code>. Then we believe that, among the exposed, the selected group is 1.25 times as likely to have some level of unmeasured variable <span class="math inline">\(U_s\)</span> than the non-selected group, and that <span class="math inline">\(U_s\)</span> is associated with a 2.5-fold increase in the risk of the outcome. This would imply that <code>RRSUsA1 = 1.25</code> and <code>RRUsYA1 = 2.5</code>. Finally, we hypothesize that the odds of a false-positive exposure measurement within this selected group were 1.75 times higher in the exposed than unexposed, so that <code>ORYAaS = 1.75</code>. We can calculate the maximum bias we would see if all those parameters described the true extent of the bias:</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="../reference/multi_bound.html">multi_bound</a></span>(<span class="no">biases</span>,
            <span class="kw">RRUcY</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">RRAUc</span> <span class="kw">=</span> <span class="fl">1.5</span>,
            <span class="kw">RRSUsA1</span> <span class="kw">=</span> <span class="fl">1.25</span>, <span class="kw">RRUsYA1</span> <span class="kw">=</span> <span class="fl">2.5</span>,
            <span class="kw">ORYAaS</span> <span class="kw">=</span> <span class="fl">1.75</span>)</pre></body></html></div>
<p>That is, if those values are correct, then the true risk ratio can be no more than 2.4 times smaller than the observed risk ratio. So if our observed risk ratio were 4, the true risk ratio must be at least 1.7.</p>
<p>If you don’t include the necessary parameter arguments given your biases of interest, an error will inform you which are necessary. Values of 1 imply no bias, so arguments set equal to 1 can be used to explore the absence of a certain bias.</p>
<p>Because we generally don’t know the exact magnitude of the parameters, it can be useful to calculate bounds with a range of values. For example, we can vary each of the parameters from 1 to 3 in increments of 0.25:</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">param_vals</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">1</span>, <span class="fl">3</span>, <span class="kw">by</span> <span class="kw">=</span> <span class="fl">0.5</span>)

<span class="co"># create every combination of values</span>
<span class="no">params</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html">expand.grid</a></span>(
  <span class="kw">RRUcY</span> <span class="kw">=</span> <span class="no">param_vals</span>, <span class="kw">RRAUc</span> <span class="kw">=</span> <span class="no">param_vals</span>,
  <span class="kw">RRSUsA1</span> <span class="kw">=</span> <span class="no">param_vals</span>, <span class="kw">RRUsYA1</span> <span class="kw">=</span> <span class="no">param_vals</span>,
  <span class="kw">ORYAaS</span> <span class="kw">=</span> <span class="no">param_vals</span>
)

<span class="no">params</span>$<span class="no">bound</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mapply.html">mapply</a></span>(<span class="no">multi_bound</span>,
  <span class="kw">RRUcY</span> <span class="kw">=</span> <span class="no">params</span>$<span class="no">RRUcY</span>, <span class="kw">RRAUc</span> <span class="kw">=</span> <span class="no">params</span>$<span class="no">RRAUc</span>,
  <span class="kw">RRSUsA1</span> <span class="kw">=</span> <span class="no">params</span>$<span class="no">RRSUsA1</span>, <span class="kw">RRUsYA1</span> <span class="kw">=</span> <span class="no">params</span>$<span class="no">RRUsYA1</span>,
  <span class="kw">ORYAaS</span> <span class="kw">=</span> <span class="no">params</span>$<span class="no">ORYAaS</span>,
  <span class="kw">MoreArgs</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">biases</span> <span class="kw">=</span> <span class="no">biases</span>)
)</pre></body></html></div>
<p>There are two many dimensions to summarize the relationship between the parameters and the bounds in a simple table or figure, but we can examine the overall distribution of the bounds as well as how they depend on several of the parameters. For example, a simple histogram of the bounds calculated by varying each of the bias parameters between 1 and 3.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span>(<span class="no">params</span>$<span class="no">bound</span>, <span class="kw">main</span> <span class="kw">=</span> <span class="kw">NULL</span>, <span class="kw">xlab</span> <span class="kw">=</span> <span class="st">"Bound"</span>)</pre></body></html></div>
<p><img src="multiple-bias_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
</div>
<div id="multi-bias-e-values" class="section level2">
<h2 class="hasAnchor">
<a href="#multi-bias-e-values" class="anchor"></a>Multi-bias E-values</h2>
<p>We can also calculate multi-bias E-values, which are analogous to E-values for unmeasured confounding but take into account multiple biases. The multi-bias E-value describes the minimum value that all of the sensitivity parameters for each of the biases would have to take on for a given observed risk ratio to be compatible with a truly null risk ratio.</p>
<p>To calculate a multi-bias evalue, we declare a set of biases as before, and then specify the observed risk ratio. For example, given the biases we have been working with and an observed risk ratio of 4, the multi-bias E-value is <code><a href="https://rdrr.io/r/base/Round.html">round(summary(multi_evalue(biases, RR(4))), 2)</a></code>:</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="../reference/multi_evalue.html">multi_evalue</a></span>(<span class="no">biases</span>, <span class="kw">est</span> <span class="kw">=</span> <span class="fu"><a href="../reference/effect_measures.html">RR</a></span>(<span class="fl">4</span>))</pre></body></html></div>
<pre class="message"><code>#&gt; This multi-bias e-value refers simultaneously to parameters RR_AUc,
#&gt; RR_UcY, RR_UsY|A=1, RR_SUs|A=1, RR_YA*|a,S . (See documentation for
#&gt; details.)</code></pre>
<pre class="output"><code>#&gt;                       point lower upper
#&gt; RR                  4.00000    NA    NA
#&gt; Multi-bias E-values 1.67513    NA    NA</code></pre>
<p>Notice that we have specified that our estimate is a risk ratio using the <code><a href="../reference/effect_measures.html">RR()</a></code> function. If we want to instead calculate a multi-bias E-value for an odds ratio or a hazard ratio, we must specify so with the appropriate function, as well as decide whether it’s reasonable to assume that the outcome is rare enough to use a risk ratio approximation. If not, <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/biom.13197">other approximations</a> will be used.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="co"># square-root approximation of the odds ratio</span>
<span class="fu"><a href="../reference/multi_evalue.html">multi_evalue</a></span>(<span class="no">biases</span>, <span class="kw">est</span> <span class="kw">=</span> <span class="fu"><a href="../reference/effect_measures.html">OR</a></span>(<span class="fl">4</span>, <span class="kw">rare</span> <span class="kw">=</span> <span class="fl">FALSE</span>))</pre></body></html></div>
<pre class="message"><code>#&gt; This multi-bias e-value refers simultaneously to parameters RR_AUc,
#&gt; RR_UcY, RR_UsY|A=1, RR_SUs|A=1, RR_YA*|a,S . (See documentation for
#&gt; details.)</code></pre>
<pre class="output"><code>#&gt;                        point lower upper
#&gt; RR                  2.000000    NA    NA
#&gt; Multi-bias E-values 1.327958    NA    NA</code></pre>
<p>To additionally calculate a multi-bias E-value for the confidence interval, we can include it with the <code>lo =</code> and <code>hi =</code> arguments (these will be assumed to be on the same scale as the point estimate):</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="co"># use verbose = FALSE to suppress message about parameters</span>
<span class="fu"><a href="../reference/multi_evalue.html">multi_evalue</a></span>(<span class="no">biases</span>, <span class="kw">est</span> <span class="kw">=</span> <span class="fu"><a href="../reference/effect_measures.html">RR</a></span>(<span class="fl">4</span>), <span class="kw">lo</span> <span class="kw">=</span> <span class="fl">2.5</span>, <span class="kw">hi</span> <span class="kw">=</span> <span class="fl">6</span>, <span class="kw">verbose</span> <span class="kw">=</span> <span class="fl">FALSE</span>)</pre></body></html></div>
<pre class="output"><code>#&gt;                       point    lower upper
#&gt; RR                  4.00000 2.500000     6
#&gt; Multi-bias E-values 1.67513 1.435575    NA</code></pre>
<p>The function can also accommodate protective estimates:</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="fu"><a href="../reference/multi_evalue.html">multi_evalue</a></span>(<span class="no">biases</span>, <span class="kw">est</span> <span class="kw">=</span> <span class="fu"><a href="../reference/effect_measures.html">RR</a></span>(<span class="fl">0.25</span>), <span class="kw">lo</span> <span class="kw">=</span> <span class="fl">0.17</span>, <span class="kw">hi</span> <span class="kw">=</span> <span class="fl">0.4</span>, <span class="kw">verbose</span> <span class="kw">=</span> <span class="fl">FALSE</span>)</pre></body></html></div>
<pre class="output"><code>#&gt;                       point lower    upper
#&gt; RR                  0.25000  0.17 0.400000
#&gt; Multi-bias E-values 1.67513    NA 1.435575</code></pre>
<p>Finally, if we are calculating a multi-bias E-value for a point estimate and just want to output the single value, we can use the <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> function, which will also automatically suppress the message about the parameters:</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="fu"><a href="../reference/multi_evalue.html">multi_evalue</a></span>(<span class="no">biases</span>, <span class="kw">est</span> <span class="kw">=</span> <span class="fu"><a href="../reference/effect_measures.html">RR</a></span>(<span class="fl">4</span>)))</pre></body></html></div>
<pre class="output"><code>#&gt; [1] 1.67513</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://mayamathur.com">Maya B. Mathur</a>, <a href="https://sites.google.com/site/pengdingpku/">Peng Ding</a>, <a href="https://louisahsmith.com">Louisa H. Smith</a>, <a href="https://www.hsph.harvard.edu/tyler-vanderweele/">Tyler J. VanderWeele</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
